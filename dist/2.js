(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{3:function(n,e,t){"use strict";t.r(e),t.d(e,"bootstrap",(function(){return T})),t.d(e,"mount",(function(){return j})),t.d(e,"unmount",(function(){return H}));var a,r,i,o,l=t(6),u=t.n(l),s=t(24),c=t.n(s),d=t(28),m=t.n(d),f=t(7),p=t.n(f),h=t(8),v=t.n(h),g=t(12),x=t.n(g),y=t(35),w=t.n(y),b="https://api.data.gov.sg/v1/environment",E={getTemperature:(o=v()(p.a.mark((function n(){var e;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.get("".concat(b,"/air-temperature"));case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)}))),function(){return o.apply(this,arguments)}),getRainfall:(i=v()(p.a.mark((function n(){var e;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.get("".concat(b,"/rainfall"));case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)}))),function(){return i.apply(this,arguments)}),getHumidity:(r=v()(p.a.mark((function n(){var e;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.get("".concat(b,"/relative-humidity"));case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)}))),function(){return r.apply(this,arguments)}),getPSI:(a=v()(p.a.mark((function n(){var e;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.get("".concat(b,"/psi"));case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)}))),function(){return a.apply(this,arguments)})},V=(t(53),t(55),[{minVal:0,maxVal:50,descriptor:"Good",color:"#6FCF97"},{minVal:51,maxVal:100,descriptor:"Moderate",color:"#56CCF2"},{minVal:101,maxVal:200,descriptor:"Unhealthy",color:"#F2C94C"},{minVal:201,maxVal:300,descriptor:"Very unhealthy",color:"#F2994A"},{minVal:300,maxVal:null,descriptor:"Hazardous",color:"#EB5757"}]),S=function(){var n=u.a.useState(null),e=x()(n,2),t=e[0],a=e[1],r=u.a.useState(0),i=x()(r,2),o=i[0],l=i[1];u.a.useEffect((function(){s()}),[]);var s=function(){var n=v()(p.a.mark((function n(){var e,t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.getPSI();case 2:e=n.sent,t=e.items[0],a(t),c(t.readings.psi_twenty_four_hourly.national);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c=function(n){if(n)for(var e=0;e<V.length;e++)if(n>V[e].minVal&&n<V[e].maxVal)return void l(e);l(4)};return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"psi container",style:{backgroundColor:V[o].color}},u.a.createElement("div",{className:"two-columns"},u.a.createElement("h2",null,"The PSI is ",V[o].descriptor),u.a.createElement("div",{className:"reading"},null==t?void 0:t.readings.psi_twenty_four_hourly.national)),u.a.createElement("div",{className:"footnote"},u.a.createElement("div",null,u.a.createElement("i",null,"Retrieved on ",new Date(null==t?void 0:t.timestamp).toLocaleString())),u.a.createElement("a",{href:"/psi"},"View more"))))},C=t(57),k=t.n(C);t(60);function _(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return z(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return z(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var a=0,r=function(){};return{s:r,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return o=n.done,n},e:function(n){l=!0,i=n},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw i}}}}function z(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}var I=[{maxVal:27,descriptor:"cool"},{maxVal:31,descriptor:"warm"},{maxVal:34,descriptor:"hot"},{maxVal:36,descriptor:"sibeh hot"}],F=[{maxVal:0,descriptor:"no rain"},{maxVal:.5,descriptor:"slight drizzle"},{maxVal:2,descriptor:"light showers"},{maxVal:100,descriptor:"heavy rain"}],N=function(n){var e=n.temperature,t=n.rainfall,a=n.humidity,r=n.timestamp,i=n.stationId,o=n.stations,l=n.handleSelectChange;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"weather-detail container",style:{backgroundColor:"#56CCF2"}},u.a.createElement("div",{className:"two-columns"},u.a.createElement("h2",null,"It is ",function(n){var e,t=_(I);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(a.maxVal>=n)return a.descriptor}}catch(n){t.e(n)}finally{t.f()}}(e)," with ",function(n){var e,t=_(F);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(a.maxVal>=n)return a.descriptor}}catch(n){t.e(n)}finally{t.f()}}(t)," at ",u.a.createElement("br",null),u.a.createElement("select",{name:"stations",id:"stations",onChange:l,value:i},o.map((function(n){return u.a.createElement("option",{key:n.id,value:n.id},n.name)})))),u.a.createElement("div",{className:"reading"},u.a.createElement("div",null,e," Â°C"),u.a.createElement("div",null,t," mm"),u.a.createElement("div",null,"H: ",a," %"))),u.a.createElement("div",{className:"footnote"},u.a.createElement("div",null,u.a.createElement("i",null,"Retrieved on ",new Date(r).toLocaleString())))))};N.propTypes={temperature:k.a.number,rainfall:k.a.number,humidity:k.a.number,timestamp:k.a.string,stationId:k.a.string,stations:k.a.array,handleSelectChange:k.a.func};var A=N,M=function(){var n,e,t,a,r,i,o=u.a.useState([]),l=x()(o,2),s=l[0],c=l[1],d=u.a.useState({}),m=x()(d,2),f=m[0],h=m[1],g=u.a.useState({}),y=x()(g,2),w=y[0],b=y[1],V=u.a.useState({}),C=x()(V,2),k=C[0],_=C[1],z=u.a.useState(null),I=x()(z,2),F=I[0],N=I[1];u.a.useEffect((function(){M()}),[]);var M=function(){var n=v()(p.a.mark((function n(){var e,t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([E.getTemperature(),E.getRainfall(),E.getHumidity()]);case 2:e=n.sent,(t=e[0].metadata.stations).sort((function(n,e){return n.name>e.name?1:e.name>n.name?-1:0})),c(t),h(e[0].items[0]),b(e[1].items[0]),_(e[2].items[0]),N(t[0].id);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{id:"weather-container"},F&&u.a.createElement(A,{stations:s,temperature:null==f||null===(n=f.readings)||void 0===n||null===(e=n.find((function(n){return n.station_id===F})))||void 0===e?void 0:e.value,rainfall:null==w||null===(t=w.readings)||void 0===t||null===(a=t.find((function(n){return n.station_id===F})))||void 0===a?void 0:a.value,humidity:null==k||null===(r=k.readings)||void 0===r||null===(i=r.find((function(n){return n.station_id===F})))||void 0===i?void 0:i.value,timestamp:f.timestamp,stationId:F,handleSelectChange:function(n){N(n.target.value)}})),u.a.createElement("div",{id:"psi-container"},u.a.createElement(S,null)))};var R=m()({React:u.a,ReactDOM:c.a,rootComponent:M,domElementGetter:function(){return document.getElementById("react")}}),T=[R.bootstrap],j=[R.mount],H=[R.unmount]},53:function(n,e,t){var a=t(9),r=t(54);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[n.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);n.exports=r.locals||{}},54:function(n,e,t){(e=t(10)(!1)).push([n.i,"body {\n    margin: 0;\n}\n.container {\n    padding: 20px 300px;\n    background-color: #ececec;\n    height: 100%;\n    \n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n}\n#weather-container {\n    height: 60vh;\n}\n\n#psi-container{\n    height: 40vh;\n}\n\n@media only screen and (max-width: 700px) {\n    .container {\n        padding: 20px;\n    }\n}",""]),n.exports=e},55:function(n,e,t){var a=t(9),r=t(56);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[n.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);n.exports=r.locals||{}},56:function(n,e,t){(e=t(10)(!1)).push([n.i,".two-columns {\n    margin-top: 50px;\n    margin-bottom: 30px;\n    display: flex;\n}\n\n.psi h2 {\n    margin: 0;\n    font-weight: 800;\n    font-size: 60px;\n    line-height: 1;\n    flex: 1;\n}\n\n.reading {\n    flex: 1;\n    font-size: 60px;\n    text-align: right;\n    line-height: 50px;\n}\n\n.footnote {\n    text-align: right;\n}\n\n@media only screen and (max-width: 700px) {\n    .psi h2 {\n        font-size: 40px;\n    }\n}",""]),n.exports=e},60:function(n,e,t){var a=t(9),r=t(61);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[n.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);n.exports=r.locals||{}},61:function(n,e,t){(e=t(10)(!1)).push([n.i,'\n.weather-detail h2 {\n    margin: 0;\n    font-weight: 800;\n    font-size: 50px;\n    line-height: 1;\n    flex: 2;\n    max-width: 70%;\n}\n\n.weather-detail .reading div {\n    font-size: 20px;\n    line-height: 1;\n}\n\nselect#stations {\n    background: none;\n    border: none;\n    font-family: "Muli";\n    font-weight: 800;\n    font-size: 40px;\n    max-width: 100%;\n    overflow: hidden;\n    /* white-space: pre; */\n    text-overflow: ellipsis;\n    /* -webkit-appearance: none; */\n    border-bottom: 1px solid black;\n}\n\n\n@media only screen and (max-width: 700px) {\n    .weather-detail h2 {\n        font-size: 40px;\n    }\n\n    select#stations {\n        font-size: 30px;\n    }\n}',""]),n.exports=e}}]);
//# sourceMappingURL=2.js.map
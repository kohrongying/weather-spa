(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{3:function(e,n,t){"use strict";t.r(n),t.d(n,"bootstrap",(function(){return T})),t.d(n,"mount",(function(){return H})),t.d(n,"unmount",(function(){return P}));var r,a,i,o,l=t(6),u=t.n(l),c=t(24),s=t.n(c),m=t(28),d=t.n(m),f=t(7),p=t.n(f),v=t(8),g=t.n(v),h=t(12),x=t.n(h),y=t(35),w=t.n(y),E="https://api.data.gov.sg/v1/environment",b={getTemperature:(o=g()(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(E,"/air-temperature"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)}),getRainfall:(i=g()(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(E,"/rainfall"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)}),getHumidity:(a=g()(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(E,"/relative-humidity"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),getPSI:(r=g()(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(E,"/psi"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},V=(t(53),t(55),[{minVal:0,maxVal:50,descriptor:"Good",color:"#6FCF97"},{minVal:51,maxVal:100,descriptor:"Moderate",color:"#56CCF2"},{minVal:101,maxVal:200,descriptor:"Unhealthy",color:"#F2C94C"},{minVal:201,maxVal:300,descriptor:"Very unhealthy",color:"#F2994A"},{minVal:300,maxVal:null,descriptor:"Hazardous",color:"#EB5757"}]),S=function(){var e=u.a.useState(null),n=x()(e,2),t=n[0],r=n[1],a=u.a.useState(0),i=x()(a,2),o=i[0],l=i[1];u.a.useEffect((function(){c()}),[]);var c=function(){var e=g()(p.a.mark((function e(){var n,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getPSI();case 2:n=e.sent,t=n.items[0],r(t),s(t.readings.psi_twenty_four_hourly.national);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(e){if(e)for(var n=0;n<V.length;n++)if(e>V[n].minVal&&e<V[n].maxVal)return void l(n);l(4)};return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"psi",style:{backgroundColor:V[o].color}},u.a.createElement("div",{className:"two-columns"},u.a.createElement("h2",null,"The PSI is ",V[o].descriptor),u.a.createElement("div",{className:"reading"},null==t?void 0:t.readings.psi_twenty_four_hourly.national)),u.a.createElement("div",{className:"footnote"},u.a.createElement("div",null,u.a.createElement("i",null,"Retrieved on ",new Date(null==t?void 0:t.timestamp).toLocaleString())),u.a.createElement("a",{href:"/psi"},"View more"))))},_=t(57),k=t.n(_);t(60);function N(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return C(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw i}}}}function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var F=[{maxVal:26,descriptor:"cool"},{maxVal:30,descriptor:"warm"},{maxVal:32,descriptor:"hot"},{maxVal:36,descriptor:"sibeh hot"}],I=[{maxVal:0,descriptor:"no rain"},{maxVal:.5,descriptor:"slight drizzle"},{maxVal:2,descriptor:"light showers"},{maxVal:100,descriptor:"heavy rain"}],z=function(e){var n=e.temperature,t=e.rainfall,r=e.humidity,a=e.timestamp,i=e.location;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"weather-detail"},u.a.createElement("div",{className:"two-columns"},u.a.createElement("h2",null,"It is ",function(e){var n,t=N(F);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.maxVal>=e)return r.descriptor}}catch(e){t.e(e)}finally{t.f()}}(n)," with ",function(e){var n,t=N(I);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.maxVal>=e)return r.descriptor}}catch(e){t.e(e)}finally{t.f()}}(t)," at ",i),u.a.createElement("div",{className:"reading"},u.a.createElement("div",null,n," Â°C"),u.a.createElement("div",null,t," mm"),u.a.createElement("div",null,"H: ",r," %"))),u.a.createElement("div",{className:"footnote"},u.a.createElement("div",null,u.a.createElement("i",null,"Retrieved on ",new Date(a).toLocaleString())))))};z.propTypes={temperature:k.a.string,rainfall:k.a.number,humidity:k.a.number,timestamp:k.a.string,location:k.a.string};var A=z,M=function(){var e,n,t,r,a,i,o,l=u.a.useState([]),c=x()(l,2),s=c[0],m=c[1],d=u.a.useState({}),f=x()(d,2),v=f[0],h=f[1],y=u.a.useState({}),w=x()(y,2),E=w[0],V=w[1],_=u.a.useState({}),k=x()(_,2),N=k[0],C=k[1],F=u.a.useState(null),I=x()(F,2),z=I[0],M=I[1];u.a.useEffect((function(){R()}),[]);var R=function(){var e=g()(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b.getTemperature(),b.getRainfall(),b.getHumidity()]);case 2:n=e.sent,m(n[0].metadata.stations),h(n[0].items[0]),V(n[1].items[0]),C(n[2].items[0]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement("h1",null,"Weather SG"),u.a.createElement("div",{className:"grid-container"},u.a.createElement("div",{className:"left"},s.map((function(e){return u.a.createElement("li",{key:e.id,onClick:function(){return M(e.id)}},e.name," (",e.id,")")}))),u.a.createElement("div",{className:"right"},z&&u.a.createElement(A,{temperature:null==v||null===(e=v.readings)||void 0===e||null===(n=e.find((function(e){return e.station_id===z})))||void 0===n?void 0:n.value,rainfall:null==E||null===(t=E.readings)||void 0===t||null===(r=t.find((function(e){return e.station_id===z})))||void 0===r?void 0:r.value,humidity:null==N||null===(a=N.readings)||void 0===a||null===(i=a.find((function(e){return e.station_id===z})))||void 0===i?void 0:i.value,timestamp:v.timestamp,location:null===(o=s.find((function(e){return e.id===z})))||void 0===o?void 0:o.name}),u.a.createElement(S,null))))};var R=d()({React:u.a,ReactDOM:s.a,rootComponent:M,domElementGetter:function(){return document.getElementById("react")}}),T=[R.bootstrap],H=[R.mount],P=[R.unmount]},53:function(e,n,t){var r=t(9),a=t(54);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);e.exports=a.locals||{}},54:function(e,n,t){(n=t(10)(!1)).push([e.i,".grid-container {\n    display: grid;\n    grid-gap: 20px 20px;\n    grid-template-columns: 1fr 1fr;\n}\n\n.left {\n    grid-column-start: 1;\n    grid-column-end: 2;\n}\n\n.right {\n    grid-column-start: 2;\n    grid-column-end: 3;\n}",""]),e.exports=n},55:function(e,n,t){var r=t(9),a=t(56);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);e.exports=a.locals||{}},56:function(e,n,t){(n=t(10)(!1)).push([e.i,"\n.psi {\n    background-color: #ececec;\n    padding: 20px;\n}\n\n.two-columns {\n    margin-top: 50px;\n    margin-bottom: 30px;\n    display: flex;\n}\n\n.psi h2 {\n    margin: 0;\n    font-weight: 800;\n    font-size: 60px;\n    line-height: 50px;\n    flex: 1;\n}\n\n.reading {\n    flex: 1;\n    font-size: 60px;\n    text-align: right;\n    line-height: 50px;\n}\n\n.footnote {\n    text-align: right;\n}\n\n",""]),e.exports=n},60:function(e,n,t){var r=t(9),a=t(61);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);e.exports=a.locals||{}},61:function(e,n,t){(n=t(10)(!1)).push([e.i,".weather-detail {\n    padding: 20px;\n    margin-bottom: 20px;\n    background-color: burlywood;\n}\n\n.weather-detail h2 {\n    margin: 0;\n    font-weight: 800;\n    font-size: 50px;\n    line-height: 40px;\n    flex: 2;\n}\n\n.weather-detail .reading div {\n    font-size: 20px;\n    line-height: 20px;\n}",""]),e.exports=n}}]);
//# sourceMappingURL=2.js.map
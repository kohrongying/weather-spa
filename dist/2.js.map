{"version":3,"sources":["webpack:///./src/react/api/api.js","webpack:///./src/react/components/PSI/PSI.js","webpack:///./src/react/components/WeatherDetail/WeatherDetail.js","webpack:///./src/react/root.component.js","webpack:///./src/react/main.app.js","webpack:///./src/react/App.css?7e11","webpack:///./src/react/App.css","webpack:///./src/react/components/PSI/PSI.css?90d0","webpack:///./src/react/components/PSI/PSI.css","webpack:///./src/react/components/WeatherDetail/WeatherDetail.css?9d35","webpack:///./src/react/components/WeatherDetail/WeatherDetail.css"],"names":["baseURL","WeatherApi","getTemperature","a","axios","get","response","data","getRainfall","getHumidity","getPSI","INDICATOR","minVal","maxVal","descriptor","color","PSI","React","useState","setData","qualityIndex","setQualityIndex","useEffect","fetchData","items","renderQuality","readings","psi_twenty_four_hourly","national","reading","i","length","Fragment","className","style","backgroundColor","Date","timestamp","toLocaleString","href","TEMPERATURE_TABLE","RAINFALL_TABLE","WeatherDetail","temperature","rainfall","humidity","location","item","getTempDescriptor","getRainfallDescriptor","propTypes","PropTypes","string","number","App","stations","setStations","temps","setTemps","setRainfall","setHumidity","stationId","setStationId","Promise","all","responses","metadata","map","station","key","id","onClick","name","find","obj","station_id","value","reactLifecycles","singleSpaReact","ReactDOM","rootComponent","Home","domElementGetter","document","getElementById","bootstrap","mount","unmount","api","content","__esModule","default","module","options","exports","locals","___CSS_LOADER_API_IMPORT___","push"],"mappings":"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","file":"2.js","sourcesContent":["import axios from \"axios\"\n\nconst baseURL = 'https://api.data.gov.sg/v1/environment'\n\nconst WeatherApi = {\n    getTemperature: async () => {\n        const response = await axios.get(`${baseURL}/air-temperature`)\n        return response.data;\n    },\n\n    getRainfall: async () => {\n        const response = await axios.get(`${baseURL}/rainfall`)\n        return response.data;\n    },\n\n    getHumidity: async () => {\n        const response = await axios.get(`${baseURL}/relative-humidity`)\n        return response.data;\n    },\n    \n    getPSI: async () => {\n        const response = await axios.get(`${baseURL}/psi`)\n        return response.data;\n    },\n}\n\nexport default WeatherApi","import React from \"react\"\nimport WeatherApi from \"../../api/api\"\nimport \"./PSI.css\"\n\nconst INDICATOR = [\n  { minVal: 0, maxVal: 50, descriptor: 'Good', color: '#6FCF97'},\n  { minVal: 51, maxVal: 100, descriptor: 'Moderate', color: '#56CCF2'},\n  { minVal: 101, maxVal: 200, descriptor: 'Unhealthy', color: '#F2C94C'},\n  { minVal: 201, maxVal: 300, descriptor: 'Very unhealthy', color: '#F2994A'},\n  { minVal: 300, maxVal: null, descriptor: 'Hazardous', color: '#EB5757'},\n]\n\nconst PSI = () => {\n  const [data, setData] = React.useState(null)\n  const [qualityIndex, setQualityIndex] = React.useState(0)\n\n  React.useEffect(() => {\n    fetchData()\n  }, [])\n\n  const fetchData = async () => {\n    const response = await WeatherApi.getPSI()\n    const data = response.items[0]\n    setData(data)\n    renderQuality(data.readings.psi_twenty_four_hourly.national)\n  }\n\n  const renderQuality = (reading) => {\n    if (reading) {\n      for(let i=0; i< INDICATOR.length;i++) {\n        if (reading > INDICATOR[i].minVal && reading < INDICATOR[i].maxVal) {\n          setQualityIndex(i)\n          return\n        }\n      }\n    }\n    setQualityIndex(4)\n  }\n\n  return(\n    <React.Fragment>\n      <div className=\"psi\" style={{ backgroundColor: INDICATOR[qualityIndex].color}}>\n        \n        <div className=\"two-columns\">\n          <h2>The PSI is {INDICATOR[qualityIndex].descriptor}</h2>\n          <div className=\"reading\">{data?.readings.psi_twenty_four_hourly.national}</div>\n        </div>\n        \n        <div className=\"footnote\">\n          <div><i>Retrieved on {new Date(data?.timestamp).toLocaleString()}</i></div>\n          <a href=\"/psi\">View more</a>\n        </div>\n        \n      </div>\n    </React.Fragment>\n  )\n}\n\nexport default PSI;","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport \"./WeatherDetail.css\"\n\nconst TEMPERATURE_TABLE = [\n  { maxVal: 26, descriptor: 'cool' },\n  { maxVal: 30, descriptor: 'warm' },\n  { maxVal: 32, descriptor: 'hot' },\n  { maxVal: 36, descriptor: 'sibeh hot' },\n]\n\nconst RAINFALL_TABLE = [\n  { maxVal: 0, descriptor: 'no rain' },\n  { maxVal: 0.5, descriptor: 'slight drizzle' },\n  { maxVal: 2, descriptor: 'light showers' },\n  { maxVal: 100, descriptor: 'heavy rain' },\n]\n\nconst getTempDescriptor = (temperature) => {\n  for (let item of TEMPERATURE_TABLE) {\n    if (item.maxVal >= temperature) {\n      return item.descriptor\n    }\n  }\n}\n\nconst getRainfallDescriptor = (rainfall) => {\n  for (let item of RAINFALL_TABLE) {\n    if (item.maxVal >= rainfall) {\n      return item.descriptor\n    }\n  }\n}\n\n\nconst WeatherDetail = ({\n  temperature,\n  rainfall,\n  humidity,\n  timestamp,\n  location\n}) => {\n  return (\n  <React.Fragment>\n    <div className=\"weather-detail\">\n      \n      <div className=\"two-columns\">\n  <h2>It is {getTempDescriptor(temperature)} with {getRainfallDescriptor(rainfall)} at {location}</h2>\n        <div className=\"reading\">\n          <div>{temperature} °C</div>\n          <div>{rainfall} mm</div>\n          <div>H: {humidity} %</div>\n        </div>\n      </div>\n      \n      <div className=\"footnote\">\n        <div><i>Retrieved on {new Date(timestamp).toLocaleString()}</i></div>\n      </div>\n      \n    </div>\n  </React.Fragment>\n  )\n}\n\nWeatherDetail.propTypes = {\n  temperature: PropTypes.string,\n  rainfall: PropTypes.number,\n  humidity: PropTypes.number,\n  timestamp: PropTypes.string,\n  location: PropTypes.string,\n}\n\nexport default WeatherDetail;","import React from \"react\"\nimport WeatherApi from \"./api/api\"\nimport \"./App.css\"\nimport PSI from \"./components/PSI/PSI\"\nimport WeatherDetail from \"./components/WeatherDetail/WeatherDetail\"\n\nconst App = () => {\n  const [stations, setStations] = React.useState([])\n  const [temps, setTemps] = React.useState({})\n  const [rainfall, setRainfall] = React.useState({})\n  const [humidity, setHumidity] = React.useState({})\n  const [stationId, setStationId] = React.useState(null)\n\n  React.useEffect(() => {\n    fetchData()    \n  }, [])\n\n  const fetchData = async () => {\n    const responses = await Promise.all([\n      WeatherApi.getTemperature(),\n      WeatherApi.getRainfall(),\n      WeatherApi.getHumidity()\n    ])\n\n    // let stations = []\n    // for (let i=0;i<responses.length;i++) {\n    //   stations = [...stations, ...responses[i].metadata.stations]\n    // }\n    // const removedDups = new Set(stations.map(station => station.id))\n    // stations = [...removedDups].map(id => stations.find(s => s.id === id)).filter(station => station.id !== station.name)\n\n    setStations(responses[0].metadata.stations)\n    setTemps(responses[0].items[0])\n    setRainfall(responses[1].items[0])\n    setHumidity(responses[2].items[0])\n  }\n\n  return(\n    <>\n    <h1>Weather SG</h1>\n    <div className=\"grid-container\">\n      <div className=\"left\">\n        {stations.map(station => (\n          <li key={station.id} onClick={() => setStationId(station.id)}>\n            {station.name} ({station.id})\n          </li>\n        ))}\n      </div>\n\n      <div className=\"right\">\n        \n        {stationId && \n          <WeatherDetail\n            temperature={temps?.readings?.find(obj => obj.station_id === stationId)?.value}\n            rainfall={rainfall?.readings?.find(obj => obj.station_id === stationId)?.value}\n            humidity={humidity?.readings?.find(obj => obj.station_id === stationId)?.value}\n            timestamp={temps.timestamp}\n            location={stations.find(station => station.id === stationId)?.name}\n          />\n        }\n\n        <PSI />\n      </div>\n\n      \n    </div>\n    </>\n  )\n\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport singleSpaReact from 'single-spa-react';\nimport Home from './root.component.js';\n\nfunction domElementGetter() {\n  return document.getElementById(\"react\")\n}\n\nconst reactLifecycles = singleSpaReact({\n  React,\n  ReactDOM,\n  rootComponent: Home,\n  domElementGetter,\n})\n\nexport const bootstrap = [\n  reactLifecycles.bootstrap,\n];\n\nexport const mount = [\n  reactLifecycles.mount,\n];\n\nexport const unmount = [\n  reactLifecycles.unmount,\n];","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./App.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".grid-container {\\n    display: grid;\\n    grid-gap: 20px 20px;\\n    grid-template-columns: 1fr 1fr;\\n}\\n\\n.left {\\n    grid-column-start: 1;\\n    grid-column-end: 2;\\n}\\n\\n.right {\\n    grid-column-start: 2;\\n    grid-column-end: 3;\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!./PSI.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"\\n.psi {\\n    background-color: #ececec;\\n    padding: 20px;\\n}\\n\\n.two-columns {\\n    margin-top: 50px;\\n    margin-bottom: 30px;\\n    display: flex;\\n}\\n\\n.psi h2 {\\n    margin: 0;\\n    font-weight: 800;\\n    font-size: 60px;\\n    line-height: 50px;\\n    flex: 1;\\n}\\n\\n.reading {\\n    flex: 1;\\n    font-size: 60px;\\n    text-align: right;\\n    line-height: 50px;\\n}\\n\\n.footnote {\\n    text-align: right;\\n}\\n\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!./WeatherDetail.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".weather-detail {\\n    padding: 20px;\\n    margin-bottom: 20px;\\n    background-color: burlywood;\\n}\\n\\n.weather-detail h2 {\\n    margin: 0;\\n    font-weight: 800;\\n    font-size: 50px;\\n    line-height: 40px;\\n    flex: 2;\\n}\\n\\n.weather-detail .reading div {\\n    font-size: 20px;\\n    line-height: 20px;\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}